<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Octoblu Cam</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <link rel='stylesheet' href='styles/material.css'>
  <script src="https://simplewebrtc.com/latest-v2.js"></script>
  <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js'></script>
  <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-animate.min.js'></script>
  <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-route.min.js'></script>
  <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-aria.min.js'></script>
  <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-messages.min.js'></script>
  <script src='https://gitcdn.xyz/repo/angular/bower-material/v0.11.0/angular-material.js'></script>
  <script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-sanitize.min.js'></script>
  <script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-114/assets-cache.js'></script>

  <script src="https://cdn.octoblu.com/js/meshblu/latest/meshblu.bundle.js" type="text/javascript"></script>
  <script src="scripts/main.js"></script>
  <script src="components/webcam/dist/webcam.min.js"></script>


</head>
<body ng-app="webcamDemo" ng-controller="MainCtrl">
  <md-content background-color="#425563">
    <section layout="row" layout-sm="column" layout-align="center center" style="padding-top: 32px;">

      <md-card>
        <md-toolbar layout="row" layout-align="center center" flex>
          <h2> Meshblu WebCam</h2>
        </md-toolbar>
        <div id="webcamView">
          <webcam
          on-stream="onStream(stream)"
          on-error="onError(err)"
          on-streaming="onSuccess()"
          channel="channel"
          placeholder="'img/octopus.gif'">
          <div class="alert alert-error" ng-show="webcamError">
            <span>Webcam could not be started. Did you give access to it?</span>
          </div>
        </webcam>
      </div>

      <md-button ng-hide="{{claim}}" class="md-raised md-warn md-hue-2" target="_blank" ng-href="{{claimURL}}">Claim Device</md-button>
      <md-button ng-hide="{{claim}}" class="md-raised md-warn md-hue-2" target="_blank" ng-href="{{useURL}}">Go here to use!</md-button>
      <md-button ng-hide="{{showSnap}}" class="md-raised md-primary" ng-click="makeSnapshot()">Take Snapshot</md-button>
      <md-button ng-hide="{{showSnap}}" aria-hidden="{{showSnap}}" target="_blank" ng-href="{{watchURL}}" class="md-raised md-primary md-hue-2" >Share/Watch</md-button>
      <md-button ng-hide="{{showSnap}}" aria-hidden="{{showSnap}}" class="md-raised" ng-click="showPreview = !showPreview">Show Preview</md-button>

      <div>
        <canvas id="snapshot" ng-hide="showPreview" ></canvas>
      </div>

    </md-card>
  </section>

</md-content>

<video id="localVideo" hidden="true"></video>

</body>
</html>
